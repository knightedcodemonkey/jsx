# How it compares

Use this quick matrix to see how `@knighted/jsx` stacks up against other tagged-template helpers.

| Feature                    | `@knighted/jsx`                                                                                                                      | [`htm`](https://github.com/developit/htm)                                                                           | [`uhtml`](https://github.com/WebReflection/uhtml)                           |
| -------------------------- | ------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------- |
| Authoring syntax           | Real JSX (fragments, spreads, component tags) parsed through the `oxc` JSX grammar inside template literals.                         | HTML-like strings rewritten into hyperscript calls; lacks JSX-only constructs such as fragments or spread children. | HTML template strings compiled to DOM instructions, not JSX.                |
| Output target              | DOM nodes via `jsx` or React elements via `reactJsx`.                                                                                | Calls a hyperscript factory (`h`, `React.createElement`, etc.) to produce virtual elements.                         | Direct DOM updates with keyed parts; no React output.                       |
| Build step                 | Optional runtime parser; optional loader for build-time rewrites.                                                                    | Always tokenizes at runtime.                                                                                        | Processes template literals at runtime (caches results).                    |
| React support              | Dedicated `reactJsx` runtime plus loader `react` mode for SSR.                                                                       | Works by forwarding to `React.createElement`, but no React-specific runtime helpers.                                | DOM-only.                                                                   |
| SSR / Node                 | `@knighted/jsx/node` bootstraps `linkedom`/`jsdom` automatically; fixtures cover Next.js, Lit + React hybrids, and plain Node usage. | Depends on the hyperscript target/framework to provide SSR.                                                         | Provides DOM-focused SSR utilities but no automatic shims or React interop. |
| TypeScript support         | First-class typings for DOM + React runtimes, loader options, and Node helpers.                                                      | Community types only for the tag factory.                                                                           | Minimal typings; templates rely on generic DOM types.                       |
| Component interoperability | Mix DOM helpers, React components, Lit roots, and loader-transformed calls in one file.                                              | Primarily a JSX stand-in for Preact or hyperscript.                                                                 | Focused on DOM updates, pairs with `uhtml/async` or low-level renderers.    |
| Approx. size               | DOM: ~14.3 kB raw / ~3.3 kB min+gzip. Lite DOM: ~7.8 kB raw / ~3.3 kB min+gzip.                                                      | ~1 kB min+gzip.                                                                                                     | ~7 kB min+gzip.                                                             |

> `htm` and `uhtml` remain excellent when you only need lightweight hyperscript or DOM templating. `@knighted/jsx` trades a slightly larger runtime for full JSX semantics, React parity, loaders, and SSR tooling.

> [!NOTE]
> `@knighted/jsx` sizes were measured by gzipping `dist/jsx.js` (default runtime) and `dist/lite/index.js` from the latest build. The lite build stays raw-smaller, while gzip now lands within a few bytes of the default runtime because all helpers live in one bundle.

## Detailed size breakdown

| Entry point                                   | Raw size (bytes)                                                              | Min+gzip size (bytes) | Lite raw size (bytes)                   | Lite min+gzip size (bytes) | Notes                                                                                                          |
| --------------------------------------------- | ----------------------------------------------------------------------------- | --------------------- | --------------------------------------- | -------------------------- | -------------------------------------------------------------------------------------------------------------- |
| DOM runtime (`@knighted/jsx`)                 | 14,580 (`dist/jsx.js`)                                                        | 3,384                 | 7,959 (`dist/lite/index.js`)            | 3,351                      | Lite bundle packs everything into one file, so gzip results now sit within a few bytes of the default runtime. |
| React runtime (`@knighted/jsx/react`)         | 5,166 (`dist/react/react-jsx.js`)                                             | 1,454                 | 4,556 (`dist/lite/react/index.js`)      | 2,076                      | Lite React remains raw-smaller but pays a small gzip premium because it inlines helper code.                   |
| Node DOM entry (`@knighted/jsx/node`)         | 17,006 combined (`dist/jsx.js` + `dist/node/bootstrap.js` via dynamic import) | ≈4,298                | 9,131 (`dist/lite/node/index.js`)       | 3,847                      | Lite bundle already includes the bootstrap shim, so both raw and gzipped footprints shrink end-to-end.         |
| Node React entry (`@knighted/jsx/node/react`) | 7,592 combined (`dist/react/react-jsx.js` + `dist/node/bootstrap.js`)         | ≈2,368                | 4,556 (`dist/lite/node/react/index.js`) | 2,076                      | Lite variant bundles React + bootstrap, cutting both raw and gzipped sizes.                                    |

> [!TIP]
> Numbers were captured using `gzip -c <file> | wc -c`. “Combined” entries include every file the non-lite entry loads at runtime so you can compare end-to-end costs.
