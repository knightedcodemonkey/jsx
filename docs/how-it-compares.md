# How it compares

Use this quick matrix to see how `@knighted/jsx` stacks up against other tagged-template helpers.

| Feature                    | `@knighted/jsx`                                                                                                                      | [`htm`](https://github.com/developit/htm)                                                                           | [`uhtml`](https://github.com/WebReflection/uhtml)                           |
| -------------------------- | ------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------- |
| Authoring syntax           | Real JSX (fragments, spreads, component tags) parsed through the `oxc` JSX grammar inside template literals.                         | HTML-like strings rewritten into hyperscript calls; lacks JSX-only constructs such as fragments or spread children. | HTML template strings compiled to DOM instructions, not JSX.                |
| Output target              | DOM nodes via `jsx` or React elements via `reactJsx`.                                                                                | Calls a hyperscript factory (`h`, `React.createElement`, etc.) to produce virtual elements.                         | Direct DOM updates with keyed parts; no React output.                       |
| Build step                 | Optional runtime parser; optional loader for build-time rewrites.                                                                    | Always tokenizes at runtime.                                                                                        | Processes template literals at runtime (caches results).                    |
| React support              | Dedicated `reactJsx` runtime plus loader `react` mode for SSR.                                                                       | Works by forwarding to `React.createElement`, but no React-specific runtime helpers.                                | DOM-only.                                                                   |
| SSR / Node                 | `@knighted/jsx/node` bootstraps `linkedom`/`jsdom` automatically; fixtures cover Next.js, Lit + React hybrids, and plain Node usage. | Depends on the hyperscript target/framework to provide SSR.                                                         | Provides DOM-focused SSR utilities but no automatic shims or React interop. |
| TypeScript support         | First-class typings for DOM + React runtimes, loader options, and Node helpers.                                                      | Community types only for the tag factory.                                                                           | Minimal typings; templates rely on generic DOM types.                       |
| Component interoperability | Mix DOM helpers, React components, Lit roots, and loader-transformed calls in one file.                                              | Primarily a JSX stand-in for Preact or hyperscript.                                                                 | Focused on DOM updates, pairs with `uhtml/async` or low-level renderers.    |
| Approx. size               | DOM: ~8.8 kB raw / ~2.3 kB min+gzip. Lite DOM: ~5.7 kB raw / ~2.5 kB min+gzip.                                                       | ~1 kB min+gzip.                                                                                                     | ~7 kB min+gzip.                                                             |

> `htm` and `uhtml` remain excellent when you only need lightweight hyperscript or DOM templating. `@knighted/jsx` trades a slightly larger runtime for full JSX semantics, React parity, loaders, and SSR tooling.

> [!NOTE]
> `@knighted/jsx` sizes were measured by gzipping `dist/jsx.js` (default runtime) and `dist/lite/index.js` from the latest build. The lite build is raw-smaller, but its minified output uses fewer repeated tokens, so gzip has a little less to compress (hence the slightly higher min+gzip size).

## Detailed size breakdown

| Entry point                                   | Raw size (bytes)                                                             | Min+gzip size (bytes) | Lite raw size (bytes)                   | Lite min+gzip size (bytes) | Notes                                                                                                           |
| --------------------------------------------- | ---------------------------------------------------------------------------- | --------------------- | --------------------------------------- | -------------------------- | --------------------------------------------------------------------------------------------------------------- |
| DOM runtime (`@knighted/jsx`)                 | 9,054 (`dist/jsx.js`)                                                        | 2,291                 | 5,790 (`dist/lite/index.js`)            | 2,512                      | Lite bundle packs everything into one file, so gzip sees fewer repeated tokens despite the smaller raw payload. |
| React runtime (`@knighted/jsx/react`)         | 5,133 (`dist/react/react-jsx.js`)                                            | 1,445                 | 4,146 (`dist/lite/react/index.js`)      | 1,885                      | Same trade-off as DOM: raw-lite wins, gzip-lite is slightly larger because it inlines all helpers.              |
| Node DOM entry (`@knighted/jsx/node`)         | 9,197 combined (`dist/jsx.js` + `dist/node/bootstrap.js` via dynamic import) | ≈3,205                | 6,954 (`dist/lite/node/index.js`)       | 3,007                      | Lite bundle already includes the bootstrap shim, so both raw and gzipped footprints shrink end-to-end.          |
| Node React entry (`@knighted/jsx/node/react`) | 7,559 combined (`dist/react/react-jsx.js` + `dist/node/bootstrap.js`)        | ≈2,359                | 4,146 (`dist/lite/node/react/index.js`) | 1,885                      | Lite variant bundles React + bootstrap, cutting both raw and gzipped sizes.                                     |

> [!TIP]
> Numbers were captured using `gzip -c <file> | wc -c`. “Combined” entries include every file the non-lite entry loads at runtime so you can compare end-to-end costs.
